package com.springmvc.config;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.web.servlet.ModelAndView;import org.springframework.web.servlet.handler.HandlerInterceptorAdapter;/** * 自定义拦截器 *  * @author sanduo * @date 2018/05/21 */public class MvcInterceptor extends HandlerInterceptorAdapter {    /* 请求前执行     * @see org.springframework.web.servlet.handler.HandlerInterceptorAdapter#preHandle(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, java.lang.Object)     */    @Override    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)        throws Exception {        long startT = System.currentTimeMillis();        request.setAttribute("startT", startT);        return true;    }    /* 请求后执行     * @see org.springframework.web.servlet.handler.HandlerInterceptorAdapter#postHandle(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, java.lang.Object, org.springframework.web.servlet.ModelAndView)     */    @Override    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,        ModelAndView modelAndView) throws Exception {        Long startT = (Long)request.getAttribute("startT");        request.removeAttribute("startT");        long endT = System.currentTimeMillis();        long interval = endT - startT;        System.out.println("本次请求处理的时间为：" + new Long(interval) + "ms");        request.setAttribute("handlingTime", interval);    }}